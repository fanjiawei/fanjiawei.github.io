<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta name="baidu-site-verification" content="swBrUjhd6H" />
    <title>Jevi|创建redux+react应用的步骤</title>
    <meta name="description" content="Jevi的博客，Jevi是一个程序员，会写前端，也会写java后端.
">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link href="/css/normalize.css" rel="stylesheet" type="text/css">
    <link href="/css/default.css" rel="stylesheet" type="text/css">
    <link href="/css/highlight/ocean.css" rel="stylesheet" type="text/css">
</head>

<body>
    <aside class="nav-side">
        <header>
            <img src="/images/psb.jpeg" alt="img" />
            <h1>Jevi</h1>
        </header>
        <nav>
            <ul>
                <li>
                    <a href="/">文章</a>
                </li>
                <li>
                    <a href="/about.html">关于</a>
                </li>
                <li>
                    <a href="/doc.html">文档</a>
                </li>
            </ul>
        </nav>
    </aside>
    <main class="content">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">创建redux+react应用的步骤</h1>
        <p class="post-meta">
            <time datetime="2017-02-07 00:00:00 +0000" itemprop="datePublished">2017年02月07日</time>
        </p>
    </header>

    <div class="post-content" itemprop="articleBody">
        <h2 id="1安装webpack">1.安装webpack</h2>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="nx">webpack</span> <span class="o">-</span><span class="nx">g</span>
<span class="nx">npm</span> <span class="nx">install</span> <span class="nx">webpack</span> <span class="o">--</span><span class="nx">save</span><span class="o">-</span><span class="nx">dev</span>
</code></pre>
</div>
<p>在项目目录创建webpack.config.js，写入下面内容</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'path'</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">entry</span><span class="p">:</span> <span class="s2">"./src/app.js"</span><span class="p">,</span>
    <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="nx">__dirname</span><span class="p">,</span>
        <span class="na">filename</span><span class="p">:</span> <span class="s2">"bundle.js"</span>
    <span class="p">},</span>
    <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">loaders</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/</span><span class="p">,</span> <span class="na">loader</span><span class="p">:</span> <span class="s2">"style!css"</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">js$/</span><span class="p">,</span> <span class="na">exclude</span><span class="p">:</span> <span class="sr">/node_modules/</span><span class="p">,</span> <span class="na">loader</span><span class="p">:</span> <span class="s2">"babel-loader"</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
</div>
<h2 id="2安装redux">2.安装redux</h2>
<div class="highlighter-rouge"><pre class="highlight"><code>npm install redux --save
npm install react-redux --save
</code></pre>
</div>
<h2 id="3安装react">3.安装react</h2>
<div class="highlighter-rouge"><pre class="highlight"><code>npm install react react-dom --save
</code></pre>
</div>
<h2 id="4安装babel">4.安装babel</h2>
<div class="highlighter-rouge"><pre class="highlight"><code>npm install --save-dev babel-loader babel-core babel-preset-es2015 babel-preset-react
</code></pre>
</div>
<p>在项目目录创建.babelrc文件，写入下面内容</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"presets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"es2015"</span><span class="p">,</span><span class="s2">"react"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>
<h2 id="5创建目录与文件">5.创建目录与文件</h2>
<p>在项目目录下创建src目录，index.html，在src目录下创建app.js，page-title.js</p>

<p><img src="/images/react-redux.png" alt="目录结构" /></p>

<p>index.html写入下面内容</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"./bundle.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p>page-title.js写入下面内容</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s2">"react"</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"page-title"</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">!</span>
      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre>
</div>

<p>app.js写入下面内容</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s2">"react"</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">ReactDom</span> <span class="nx">from</span> <span class="s2">"react-dom"</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">PageTitle</span> <span class="nx">from</span> <span class="s2">"./page-title"</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">ReactDom</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">PageTitle</span> <span class="nx">title</span><span class="o">=</span><span class="s2">"页面标题"</span> <span class="o">/&gt;</span><span class="p">,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span>
<span class="p">);</span>
</code></pre>
</div>

<h2 id="6编译并打包">6.编译并打包</h2>
<p>运行命令</p>

<div class="highlighter-rouge"><pre class="highlight"><code>webpack
</code></pre>
</div>
<p>然后就能看到类似下面的内容，说明成功了</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Hash: 2a32cbe6b1f6844f6bdb
Version: webpack 1.12.11
Time: 6247ms
    Asset    Size  Chunks             Chunk Names
bundle.js  677 kB       0  [emitted]  main
    + 160 hidden modules
</code></pre>
</div>

<blockquote>
  <p>上面的步骤包含了babel的es2015插件，
所以可以用es2015的语法写js哦！</p>
</blockquote>


    </div>


</article>
    </main>
    <aside class="tools-side">

    </aside>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</body>

</html>